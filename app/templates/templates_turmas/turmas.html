{% extends "base.html" %}
{% block title %}Gestão de Estagios{% endblock %}
{% block css %}
<link rel="stylesheet" href="../static/css/principais.css">
<style>
   /* Define o estilo do pop-up de confirmação */
   .confirmation-popup {
     position: fixed;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     background-color: rgba(0, 0, 0, 0.5);
     z-index: 9999;
     display: flex;
     justify-content: center;
     align-items: center;
   }

   .popup-message {
     background-color: #fff;
     padding: 20px;
     border-radius: 5px;
     text-align: center;
   }

   .popup-buttons {
     display: flex;
     justify-content: center;
     align-items: center;
     margin-top: 20px;
   }

   .popup-button {
     background-color: #4CAF50;
     border: none;
     color: white;
     padding: 10px;
     text-align: center;
     text-decoration: none;
     display: inline-block;
     font-size: 16px;
     margin: 4px 2px;
     cursor: pointer;
   }
 </style>
{% endblock %}
{% block titulo %}Turmas{% endblock %}
{% block content %}
<div class="container">
   {% if turmas|length == 0 %}
      <p>Não há Turmas</p>
      <div class="botao_sem_tabela">
         <a href="Nova_Turma" class="button"><ion-icon name="person-add-outline" id="icons"></ion-icon><span>Criar Turma</span></a>
      </div>
   {% else %}
      <div class="botao_com_tabela">
         <a href="Nova_Turma" class="button"><ion-icon name="person-add-outline" id="icons"></ion-icon><span>Nova Turma</span></a>
      </div>
      <div class="conteudo">
         <table>
            <thead>
               <br>
               <br>
               <br>
               <tr>
                  <th scope="col">Turma</th>
                  <th></th>
               </tr>
            </thead>
            <tbody>
               {% for listaturm in turmas %}
               <tr>
                  <td data-label="Turma">{{listaturm.descricao}}</td>
                  <td>
                     <a class="col-botoes" href="{{url_for('Blueprint_turma.editar_turma', turma_id=listaturm.id)}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                           <path d="M15.586 3a2 2 0 0 1 2.828 0L21 5.586a2 2 0 0 1 0 2.828L19.414 10 14 4.586 15.586 3zm-3 3-9 9A2 2 0 0 0 3 16.414V19a2 2 0 0 0 2 2h2.586A2 2 0 0 0 9 20.414l9-9L12.586 6z"/>
                        </svg>
                     </a>
                     <a class="col-botoes" onclick="showConfirmationPopup()" href="{{url_for('Blueprint_turma.eliminar_turma', turma_id=listaturm.id)}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 16 16">
                           <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
                        </svg>
                     </a>
                  </td>
               </tr>
               {% endfor %}
            </tbody>
         </table>
         <div id="confirmation-popup" class="confirmation-popup">
            <div class="popup-message">
               <p>Tem certeza que deseja excluir?</p>
               <div class="popup-buttons">
                  <button class="popup-button" onclick="confirmAction()">Sim</button>
                  <button class="popup-button" onclick="hideConfirmationPopup()">Não</button>
               </div>
            </div>
         </div>
      </div>
   {% endif %}
</div>

{% endblock %}
{% block js %}
<script>

   $(document).ready(function(){
      hideConfirmationPopup()
   })
   // Mostra o pop-up de confirmação
   function showConfirmationPopup() {
     var popup = document.getElementById("confirmation-popup");
     popup.style.display = "flex";
   }

   // Esconde o pop-up de confirmação
   function hideConfirmationPopup() {
     var popup = document.getElementById("confirmation-popup");
     popup.style.display = "none";
   }

   // Executa a ação confirmada
   function confirmAction() {
     // Ação de exclusão aqui
     hideConfirmationPopup();
   }
 </script>
{% endblock %}